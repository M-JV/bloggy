doctype html
html
  head
    title Bloggy - Your Creative Space
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="/public/styles.css")
    // Include custom styles
    link(href="https://fonts.googleapis.com/css2?family=Lora&family=Merriweather&display=swap" rel="stylesheet")
    // Elegant fonts
  body
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-light.bg-light.shadow-sm.sticky-top
      .container-fluid
        a.navbar-brand(href="/") Bloggy
        button.navbar-toggler(type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarNav
          ul.navbar-nav.ms-auto
            li.nav-item
              a.nav-link(href="/") Home
            li.nav-item
              a.nav-link(href="/posts") All Posts
            if user
              li.nav-item
                a.nav-link(href="/posts/new") Create New Post
              li.nav-item
                a.nav-link(href="/dashboard") Dashboard
                // Render admin links only for admin users
              if user.isAdmin 
                li.nav-item
                  a.nav-link.text-danger(href="/admin/users") View All Users
                li.nav-item
                  a.nav-link.text-danger(href="/admin/posts") View All Posts
              li.nav-item
                a.nav-link(href="/logout") Logout
            else
              li.nav-item
                a.nav-link(href="/login") Login
              li.nav-item
                a.nav-link(href="/register") Register

    // Flash Messages Section
    .container.mt-2
      if success
        .alert.alert-success.text-center(role="alert")= success
      if error
        .alert.alert-danger.text-center(role="alert")= error

    // Main Content Area
    .container.mt-4
      block content

    // Footer
    footer.footer.mt-auto.py-3.bg-light.shadow-sm
      .container.text-center
        p &copy; 2025 Bloggy. Inspired by Medium & Notion.

    // Bootstrap Scripts
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js")
    // Auto-dismiss Flash Messages
    script.
      setTimeout(() => {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(alert => alert.remove());
      }, 5000); // Flash messages will disappear after 5 seconds